{"version":3,"sources":["ativos.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ativos.js","sourcesContent":["function handleData(data) {\r\n\r\n\r\n\r\n    $('#resultOfSearch').empty();\r\n    if (data.data.length > 0) {\r\n        $.each(data.data, function (i, item) {\r\n            var Emprestimo = '';\r\n            var connection = '';\r\n            var state = '';\r\n            var keys = '';\r\n            var Assoc = '';\r\n            var Empres = '';\r\n            if (item.connect != null) {\r\n                connection = \"<p><b>Colaborador:</b>\" + item.connect[0].value + \" <b>Matrícula:</b>  \" + item.connect[0].id + \"  <b>Situação:</b> \" + item.connect[0].DESSIT + \"</p>\";\r\n            }\r\n            var History = null;\r\n            if (item.history.length > 0) {\r\n                History = \"<div class=\\\"panel-group\\\" id=\\\"accordion\\\" role=\\\"tablist\\\" aria-multiselectable=\\\"true\\\">\";\r\n                $.each(item.history, function (i, his) {\r\n                    row = \"<div class='panel panel-default'>\" +\r\n                        \"<div class='panel-heading' role='tab' id='headin\" + his.id + \"'>\" +\r\n                        \"<h4 class=\\\"panel-title\\\">\" +\r\n                        \"<a role='button' data-toggle='collapse'  href='#\" + his.id + \"' aria-expanded='true' aria-controls='\" + his.id + \"'>\" +\r\n                        his.Employed.value +\r\n                        \"</a>\" +\r\n                        \"</h4>\" +\r\n                        \"</div>\" +\r\n                        \"<div id='\" + his.id + \"' class=\\\"panel-collapse collapsing\\\" role=\\\"tabpanel\\\" aria-labelledby='headin\" + his.id + \"'>\" +\r\n                        \"<div class=\\\"panel-body\\\">\" +\r\n                        \"<p>Funcionário: \" + his.Employed.value + \" Matrícula: \" + his.Employed.id + \"</p>\" +\r\n                        \"<p>Data associação: \" + his.data_in + \" Data dissociação:\" + his.data_out + \" </p>\" +\r\n                        \"<p>Observação de associação:\" + his.obs_in + \"</p>\" +\r\n                        \"<p>Observação de dissociação:\" + his.obs_in + \"</p>\" +\r\n                        \"</div>\" +\r\n                        \"</div>\" +\r\n                        \"</div>\";\r\n                    History += row;\r\n                });\r\n                History += \"</div>\";\r\n            } else {\r\n                History = \"<p>Sem histórico de associações.</p>\";\r\n            }\r\n            connection += History;\r\n            if (item.state.length == 0) {\r\n                state =\r\n                    \"<button type=\\\"button\\\" class=\\\"close glyphicon glyphicon-pencil status-ben\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\"></span></button>\" +\r\n                    \"<p><b>Estado:</b>Sem definição</p>\" +\r\n                    \"<p><b>Descrição:</b>Sem definição</p>\";\r\n            } else {\r\n                state =\r\n                    \"<button type=\\\"button\\\" class=\\\"close glyphicon glyphicon-pencil status-ben\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\"></span></button>\" +\r\n                    \"<p><b>Estado:</b>\" + item.state[0].state + \"</p>\" +\r\n                    \"<p><b>Descrição:</b>\" + item.state[0].description + \"</p>\" +\r\n                    \"<p><b>Observação:</b>\" + item.state[0].desc + \"</p>\";\r\n            }\r\n            if (item.keys.length == 0) {\r\n                keys =\r\n                    \"<p>Nenhuma licença associada</p>\";\r\n            } else {\r\n                keys = \"<div class=\\\"panel-group\\\" id=\\\"accordion\\\" role=\\\"tablist\\\" aria-multiselectable=\\\"true\\\">\";\r\n                $.each(item.keys, function (l, key) {\r\n                    vencimento = \"Vitalício\";\r\n                    if (key.maturity_date != null) {\r\n                        vencimento = DateUsTODateBr(key.maturity_date);\r\n                    }\r\n                    keys +=\r\n                        \"<div class='panel panel-default'>\" +\r\n                        \"<div class='panel-heading' role='tab' id='headin\" + key.id + \"'>\" +\r\n                        \"<h4 class=\\\"panel-title\\\">\" +\r\n                        \"<a role='button' data-toggle='collapse'  href='#\" + key.id + \"' aria-expanded='true' aria-controls='\" + key.id + \"'>\"\r\n                        + key.name + \"/\" + key.model +\r\n                        \"</a>\" +\r\n                        \"</h4>\" +\r\n                        \"</div>\" +\r\n                        \"<div id='\" + key.id + \"' class=\\\"panel-collapse collapsing\\\" role=\\\"tabpanel\\\" aria-labelledby='headin\" + key.id + \"'>\" +\r\n                        \"<div class=\\\"panel-body\\\">\"\r\n                        + \"<span class='idkey' style='display: none' >\" + key.keyid + \"</span>\" +\r\n                        \"<b>Chave:</b>\" + key.key + \"  - <b>QTD</b> :\" + key.quantity + \"/<b>Em uso: </b>\" + key.in_use + \"<b> - Vencimento: </b>\" + vencimento\r\n                        + \" <button class='btn btn-xs remove-key' title='Dissociar o item da licença.' ><span class='glyphicon glyphicon-resize-full'></span> </button>\" +\r\n                        \"</div>\" +\r\n                        \"</div>\" +\r\n                        \"</div>\";\r\n                });\r\n                keys += \"</div>\";\r\n            }\r\n\r\n            if (item.HISTEMPRST.length == 0) {\r\n                Emprestimo = \"<p>Item não tem hístorico de emprestimo</p>\";\r\n            } else {\r\n                Emprestimo = \"<div class=\\\"panel-group\\\" id=\\\"accordion\\\" role=\\\"tablist\\\" aria-multiselectable=\\\"true\\\">\";\r\n                $.each(item.HISTEMPRST, function (i, his) {\r\n                    Emprestimo += \"<div class='panel panel-default'>\" +\r\n                        \"<div class='panel-heading' role='tab' id='headin\" + his.id + \"'>\" +\r\n                        \"<h4 class=\\\"panel-title\\\">\" +\r\n                        \"<a role='button' data-toggle='collapse'  href='#\" + his.id + \"' aria-expanded='true' aria-controls='headin\" + his.id + \"'>\"\r\n                        + his.employed.NUMCAD + \"/\" + his.employed.NOMFUN +\r\n                        \"</a>\" +\r\n                        \"</h4>\" +\r\n                        \"</div>\" +\r\n                        \"<div id='\" + his.id + \"' class=\\\"panel-collapse collapsing\\\" role=\\\"tabpanel\\\" aria-labelledby='headin\" + his.id + \"'>\" +\r\n                        \"<div class=\\\"panel-body\\\">\" +\r\n                        \"<p>Data emprestimo: \" + DateUsTODateBr(his.data_saida, true) + \"</p>\" +\r\n                        \"<p>Data data devolução: \" + DateUsTODateBr(his.data_saida, true) + \"</p>\" +\r\n                        \"</div>\" +\r\n                        \"</div>\" +\r\n                        \"</div>\";\r\n                });\r\n                Emprestimo += \"</div>\";\r\n            }\r\n\r\n            if (item.ASSOC) {\r\n                Assoc += \"<button class=\\\"btn btn-danger dissociar-colaborador\\\" type=\\\"button\\\">\" +\r\n                    \"<span class='glyphicon glyphicon-user'></span> Desassociar\" +\r\n                    \"</button>\";\r\n            } else if (item.EMPRST == 1) {\r\n                Assoc += \"<button class=\\\"btn btn-default associar-colaborador\\\" type=\\\"button\\\" disabled>\" +\r\n                    \"<span class='glyphicon glyphicon-user'></span> Associar\" +\r\n                    \"</button>\";\r\n            } else {\r\n                Assoc += \"<button class=\\\"btn btn-default associar-colaborador\\\" type=\\\"button\\\">\" +\r\n                    \"<span class='glyphicon glyphicon-user'></span> Associar\" +\r\n                    \"</button>\";\r\n            }\r\n\r\n            if (item.EMPRST == 0 && item.ASSOC == 0) {\r\n                Empres = \"<button class=\\\"btn btn-success emprestimo\\\" type=\\\"button\\\">\" +\r\n                    \"<span class='glyphicon glyphicon-transfer'></span> Emprestimo\" +\r\n                    \"</button>\";\r\n            } else if (item.ASSOC == 1) {\r\n                Empres = \"<button class=\\\"btn btn-success emprestimo\\\" type=\\\"button\\\" disabled>\" +\r\n                    \"<span class='glyphicon glyphicon-transfer'></span> Emprestimo\" +\r\n                    \"</button>\";\r\n            } else {\r\n                Empres = \"<button class=\\\"btn btn-warning devolucao\\\" type=\\\"button\\\">\" +\r\n                    \"<span class='glyphicon glyphicon-retweet'></span> Devolução\" +\r\n                    \"</button>\";\r\n\r\n            }\r\n            var row =\r\n                \"<div class=\\\"panel panel-default\\\">\" +\r\n                \"<div class=\\\"panel-heading cod-bem\\\">\" +\r\n                item.CODBEM +\r\n                \"</div>\" +\r\n                \"<div class='result-emp' style='display: none'>\" +\r\n                item.CODEMP +\r\n                \"</div>\" +\r\n                \"<div class=\\\"panel-body\\\">\" +\r\n                \"<p><b>Descrição</b>\" +\r\n                \"<p><b>Data Aquisição:</b> \" + item.DATAQI + \" </p>\" +\r\n                \"<p><b>Item:</b> \" + item.DESBEM + \" </p>\" +\r\n                \"<p><b>Descrição:</b> \" + item.DESESP + \" </p>\" +\r\n                \"<p><b>Empresa:</b> \" + item.NOMEMP + \" </p>\" +\r\n                \"<p><b>Centro Custo:</b> \" + item.CODCCU + \" - \" + item.DESCCU + \" </p>\" +\r\n                \"<hr>\"\r\n                + \"<p><b>Estado do bem</b>\"\r\n                + state\r\n                + \"<hr>\"\r\n                + \"<p><b>Associações</b>\"\r\n                + connection\r\n                + \"<hr>\"\r\n                + \"<p><b>Histórico de emprestimos</b>\"\r\n                + Emprestimo\r\n                + \"<hr>\"\r\n                + \"<p><b>Licenças associadas</b>\"\r\n                + keys +\r\n                \"</div>\" +\r\n                \"<div class='panel-footer'> \" +\r\n                \"<div class=\\\"btn-group\\\">\" +\r\n                \"<button class=\\\"btn btn-primary localizacoes\\\" type=\\\"button\\\">\" +\r\n                \"<span class='glyphicon glyphicon-map-marker'></span>Localizações\" +\r\n                \"</button>\" +\r\n                Assoc +\r\n                Empres +\r\n                \"</div>\" +\r\n                \"</div>\" +\r\n                \"</div>\";\r\n            $('#resultOfSearch').append(row);\r\n\r\n        });\r\n        $(\"#buttonSearch\").empty();\r\n        $(\"#buttonSearch\").append(\"<span class=\\\"glyphicon glyphicon-search\\\"></span> Pesquisar\");\r\n\r\n        Result = \"<p>Total:\" + data.total + \" exibindo:\" + data.per_page + \"</p>\";\r\n        $('.navegation').empty();\r\n        $('.navegation').append(Result);\r\n        $('.navegation').fadeIn();\r\n\r\n    } else {\r\n        $(\"#buttonSearch\").empty();\r\n        $(\"#buttonSearch\").append(\"<span class=\\\"glyphicon glyphicon-search\\\"></span> Pesquisar\");\r\n        var alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n            \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n            \"<strong>Atenção!</strong> Nenhum item encontrado!\" +\r\n            \"</div>\";\r\n        $('#resultOfSearch').append(alert);\r\n        $('.navegation').fadeOut();\r\n    }\r\n\r\n}\r\nfunction historyLocations(data, textStatus, jqXHR) {\r\n    $('#historicoLocalizacoes').empty();\r\n    $.each(data.Locations, function (i, item) {\r\n        var row = \"<div class=\\\"panel panel-default\\\">\" +\r\n            \"<div class=\\\"panel-body\\\">\" +\r\n            \"<p><b>Data Aquisição:</b> \" + item.DATLOC + \" </p>\" +\r\n            \"<p><b>Descrição:</b> \" + item.DESLOC + \" </p>\" +\r\n            \"</div>\" +\r\n            \"</div>\";\r\n        $('#historicoLocalizacoes').append(row);\r\n    });\r\n    $('#historyFinancialList').empty();\r\n    $.each(data.MovFinancial, function (i, item) {\r\n        var row = \"<div class=\\\"panel panel-default\\\">\" +\r\n            \"<div class=\\\"panel-body\\\">\" +\r\n            \"<p><b>Data Movimentação:</b> \" + item.DATMOV + \" </p>\" +\r\n            \"<p><b>Descrição:</b> \" + item.DESTNS + \" </p>\" +\r\n            \"<p><b>Centro Custo:</b> \" + item.CODCCU + \" </p>\" +\r\n            \"</div>\" +\r\n            \"</div>\";\r\n        if (item.CODTNS == 90804) {\r\n            var alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                \"<strong>Atenção!</strong> Esse item foi vendido!.\" +\r\n                \"</div>\";\r\n            $('#search').after(alert);\r\n        }\r\n        if (item.CODTNS != 90815) {\r\n            $('#historyFinancialList').append(row);\r\n        }\r\n    });\r\n}\r\nfunction Emprestimo(url, data) {\r\n    $('#loading').modal('show');\r\n    $.ajax({\r\n        url: url,\r\n        data: data,\r\n        type: 'post',\r\n        dataType: 'json',\r\n        success: function (response) {\r\n            var alert = \"\";\r\n            if (response.erro == 1) {\r\n                alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg\r\n                \"</div>\";\r\n            } else if (response.erro == 0) {\r\n                $('.emprestimo-option').addClass('display-emprestismo');\r\n                $('#resultOfSearch').removeClass('col-md-4');\r\n                $('#resultOfSearch').addClass('col-md-12');\r\n                alert = \"<div class=\\\"alert alert-success alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg\r\n                \"</div>\";\r\n\r\n            }\r\n            url = url.replace('emprestimo', 'search');\r\n            updatesearch(url, {pat: data.codbem, emp: data.codbememp});\r\n            $('#search').after(alert);\r\n        },\r\n        complete: function () {\r\n            $('#loading').modal('hide');\r\n        }\r\n    }).fail(ErroConnect);\r\n}\r\nfunction Devolucao(url, data) {\r\n    $('#loading').modal('show');\r\n    $.ajax({\r\n        url: url,\r\n        type: 'post',\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function (response) {\r\n            var alert = \"\";\r\n            if (response.error == 1) {\r\n                alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            } else if (response.error == 0) {\r\n                $('.devolucao-option').addClass('display-emprestismo');\r\n                $('#resultOfSearch').removeClass('col-md-4');\r\n                $('#resultOfSearch').addClass('col-md-12');\r\n                alert = \"<div class=\\\"alert alert-success alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            }\r\n            url = url.replace('devolucao', 'search');\r\n            updatesearch(url, {pat: data.codbem, emp: data.codbememp});\r\n            $('#search').after(alert);\r\n        },complete : function () {\r\n            $('#loading').modal('hide');\r\n        }\r\n    }).fail(ErroConnect);\r\n}\r\nfunction DevolucaoDados(url, data) {\r\n\r\n    $.ajax({\r\n        url: url + \"/\" + data.codbem + \"/\" + data.codbememp,\r\n        type: 'get',\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function (response) {\r\n            $('.info-devolucao').remove();\r\n            var linha = \"<div class='panel panel-default info-devolucao'><div class='panel-body'>\" +\r\n                \"<p><b>Data empréstimo: </b>\" + response[0].data_out + \"</p>\" +\r\n                \"<p><b>Colaborador: </b>\" + response[0].colaborador.value + \"</p>\" +\r\n                \"<p><b>Situação do colaborador: </b>\" + response[0].colaborador.DESSIT + \"</p>\" +\r\n                \"<p><b>Obs saída: </b>\" + (response[0].obs_saida == \"\" ? \"Sem observação\" : response[0].obs_saida) + \"</p>\" +\r\n                \"</div></div>\";\r\n            $('#devolucao-form').before(linha);\r\n        }\r\n    }).fail(ErroConnect);\r\n}\r\nfunction Associar(url, data) {\r\n    $('#loading').modal('show');\r\n    $.ajax({\r\n        url: url,\r\n        type: 'post',\r\n        data: data,\r\n        success: function (response) {\r\n            var alert = \"\";\r\n            if (response.error == 1) {\r\n                alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            } else if (response.error == 0) {\r\n                $('.associacao-option').addClass('display-emprestismo');\r\n                $('#resultOfSearch').removeClass('col-md-4');\r\n                $('#resultOfSearch').addClass('col-md-12');\r\n                alert = \"<div class=\\\"alert alert-success alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            }\r\n            url = url.replace('associar', 'search');\r\n            updatesearch(url, {pat: data.codbem, emp: data.codbememp});\r\n            $('#search').after(alert);\r\n        },complete : function () {\r\n            $('#loading').modal('hide');\r\n        }\r\n    }).fail(ErroConnect);\r\n}\r\nfunction Dissociar(url, data) {\r\n    $('#loading').modal('show');\r\n    $.ajax({\r\n        url: url,\r\n        type: 'post',\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function (response) {\r\n            var alert = \"\";\r\n            if (response.error == 1) {\r\n                alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            } else if (response.error == 0) {\r\n                alert = \"<div class=\\\"alert alert-success alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            }\r\n            url = url.replace('dissociar', 'search');\r\n            updatesearch(url, {pat: data.codbem, emp: data.codbememp});\r\n            $('#search').after(alert);\r\n            $('#modal-desassociar').modal('hide');\r\n        },complete : function () {\r\n            $('#loading').modal('hide');\r\n        }\r\n    }).fail(ErroConnect);\r\n}\r\nfunction ErroConnect(Error) {\r\n    if (Error.status == 401) {\r\n        location.reload();\r\n    }\r\n}\r\nfunction InsertState(url, data, callback) {\r\n    $.ajax({\r\n        url: url,\r\n        type: 'post',\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function (response) {\r\n            if (response.error == 1) {\r\n                alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            } else if (response.error == 0) {\r\n                alert = \"<div class=\\\"alert alert-success alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            }\r\n            url = url.replace('state', 'search');\r\n            updatesearch(url, {pat: data.codbem, emp: data.codbememp});\r\n            $('#search').after(alert);\r\n        }\r\n    }).fail(ErroConnect).always(callback);\r\n}\r\nfunction GetState(url, data, callback) {\r\n    $.ajax({\r\n        url: url,\r\n        type: 'get',\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function (response) {\r\n            if (response.length > 0) {\r\n                $(\"#form-state select\").val(response[0].state_id);\r\n                $(\"#form-state textarea\").val(response[0].description);\r\n                $('#upddated_at').text(response[0].updated);\r\n            } else {\r\n                $(\"#form-state\")[0].reset();\r\n                $('#upddated_at').text(\"Não existe atualizações\");\r\n            }\r\n\r\n        }\r\n    }).fail(ErroConnect).always(callback);\r\n}\r\nfunction RemoveKey(url, data, callback) {\r\n    $.ajax({\r\n        url: url,\r\n        type: 'delete',\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function (response) {\r\n            var alert = \"\";\r\n            if (response.error == 1) {\r\n                alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg\r\n                \"</div>\";\r\n            } else if (response.error == 0) {\r\n                $('.emprestimo-option').addClass('display-emprestismo');\r\n                $('#resultOfSearch').removeClass('col-md-4');\r\n                $('#resultOfSearch').addClass('col-md-12');\r\n                alert = \"<div class=\\\"alert alert-success alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg\r\n                \"</div>\";\r\n            }\r\n            url = url.replace('licencas', 'ativos');\r\n            url = url.replace('produto', 'search');\r\n            url = url.replace('delete', '');\r\n            updatesearch(url, {pat: data.pat, emp: data.emp});\r\n            $('#search').after(alert);\r\n        }\r\n    }).fail(ErroConnect).always(callback);\r\n    ;\r\n}\r\nfunction updatesearch(url, data) {\r\n    $.ajax({\r\n        url: url,\r\n        data: data,\r\n        type: 'get',\r\n        dataType: 'json'\r\n    }).done(handleData)\r\n        .fail(ErroConnect);\r\n}\r\nfunction DateUsTODateBr(date, time) {\r\n    var d = new Date(date);\r\n    var hora = time == true ? d.getHours() + \":\" + d.getMinutes() : \"\";\r\n    return d.toLocaleDateString() + \" \" + hora;\r\n\r\n}\r\n\r\nfunction CreateFilterPat(number) {\r\n    CheckFilter = $('#filter').find('#filter-pat');\r\n    if (CheckFilter.length >= 1) {\r\n        $('#filter #filter-pat').remove();\r\n    }\r\n    if (number != '') {\r\n        var row = \"<div id=\\\"filter-pat\\\" class=\\\"alert alert-info\\\" role=\\\"alert\\\">\" +\r\n            \"<b>Patrimônio</b>: <a href=\\\"#\\\" class=\\\"alert-link\\\">\" + number + \"</a>\" +\r\n            \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\">\" +\r\n            \"<span aria-hidden=\\\"true\\\">&times;</span>\" +\r\n            \"</button>\" +\r\n            \"<span id='filter-pat-num' style='display: none'>\" + number + \"</span>\" +\r\n            \"</div>\";\r\n        $('#filter').append(row);\r\n    } else {\r\n        $('#filter #filter-pat').remove();\r\n    }\r\n}\r\nfunction PreLoad(from, atualaryURi) {\r\n    atualaryURi = atualaryURi.split('#');\r\n    if (atualaryURi.length > 1) {\r\n        CreateFilterPat(atualaryURi[1]);\r\n        data = {\r\n            qtd: $('#displayNumber').val(),\r\n            pat: atualaryURi[1],\r\n            ccu: $('#filter-costcenter-num').text(),\r\n            employed: {\r\n                usr: $('#filter-nameemployed-usr').text(),\r\n                emp: $('#filter-nameemployed-emp').text(),\r\n                tip: $('#filter-nameemployed-tip').text()\r\n            }\r\n        };\r\n        $.ajax({\r\n            url: from,\r\n            data: data,\r\n            type: 'get',\r\n            dataType: 'json'\r\n        }).done(handleData)\r\n            .fail(ErroConnect);\r\n    }\r\n}\r\n//# sourceMappingURL=ativos.js.map\r\n"],"sourceRoot":"/source/"}