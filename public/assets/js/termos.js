angular.module("termo",["ngMessages"]),angular.module("termo").controller("listaTelefonica",function(e,t,r){e.error=!1,e.errorMsg="",e.Msg="",e.editar=function(t){e.exibirEditar=!0,e.exibirNovo=!1,e.existingTermo=angular.copy(t)},e.editarSalvar=function(r){t.post("termo/update",r).then(function(t){t.data.error?(e.errorMsg="",e.error=!0,$.each(t.data.data,function(r,o){e.errorMsg+=t.data.data[r]})):(e.error=!1,angular.element(swal({title:t.data.msg,text:"Essa página será recarreganda em 3 segundos.",timer:3e3}).then(function(){},function(e){"timer"===e&&window.location.reload()})))})},e.cancelarEdit=function(){e.exibirEditar=!1},e.novoContato=function(){e.exibirEditar=!1,e.exibirNovo=!e.exibirNovo,e.error=!1},e.novoSalvar=function(r){t.post("termo/novo",r).then(function(t){t.data.error?(e.errorMsg="",e.error=!0,$.each(t.data.data,function(r,o){e.errorMsg+=t.data.data[r]})):(e.error=!1,angular.element(swal({title:t.data.msg,text:"Essa página será recarreganda em 3 segundos.",timer:3e3}).then(function(){},function(e){"timer"===e&&window.location.reload()})))})},e.cancelarNovo=function(){e.exibirNovo=!e.exibirNovo,e.error=!1},e["delete"]=function(e){angular.element(swal({title:"Podemos apagar esse registro?",text:"Não será possível reverter a ação.",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, continue!",cancelButtonText:"Cancelar"}).then(function(){deleteRemote(e)},function(e){})),deleteRemote=function(e){t({method:"delete",url:"termo/delete/"+e.id,data:e}).then(function(e){0==e.data.error&&angular.element(swal({title:e.data.msg,text:"Essa página será recarreganda em 3 segundos.",timer:3e3}).then(function(){},function(e){"timer"===e&&window.location.reload()}))},function(e){})}}});