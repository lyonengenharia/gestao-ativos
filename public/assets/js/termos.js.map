{"version":3,"sources":["termos.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"termos.js","sourcesContent":["angular.module('termo', ['ngMessages']);\r\nangular.module('termo').controller('listaTelefonica', function ($scope, $http,$compile) {\r\n    $scope.error = false;\r\n    $scope.errorMsg = \"\";\r\n    $scope.Msg = \"\";\r\n    //$scope.teste = \"Olá mundo\";\r\n    $scope.editar = function (termo) {\r\n        $scope.exibirEditar = true;\r\n        $scope.exibirNovo = false;\r\n        $scope.existingTermo = angular.copy(termo);\r\n    }\r\n    $scope.editarSalvar = function (termo) {\r\n\r\n        $http.post('termo/update', termo).then(function successCallback(response) {\r\n            console.log(response);\r\n            if (response.data.error) {\r\n                $scope.errorMsg = \"\";\r\n                $scope.error = true;\r\n                $.each(response.data.data, function (item, index) {\r\n                    $scope.errorMsg += response.data.data[item];\r\n                });\r\n\r\n            }else{\r\n                $scope.error = false;\r\n                angular.element(\r\n                    swal({\r\n                        title: response.data.msg,\r\n                        text: \"Essa página será recarreganda em 3 segundos.\",\r\n                        timer: 3000\r\n                    }).then(\r\n                        function () {},\r\n                        function (dismiss) {\r\n                            if (dismiss === 'timer') {\r\n                                window.location.reload();\r\n                            }\r\n                        }\r\n                    )\r\n\r\n                );\r\n            }\r\n\r\n        });\r\n    }\r\n    $scope.cancelarEdit = function () {\r\n        $scope.exibirEditar = false;\r\n    }\r\n    $scope.novoContato = function () {\r\n        $scope.exibirEditar = false;\r\n        $scope.exibirNovo = !$scope.exibirNovo;\r\n        $scope.error = false;\r\n    }\r\n    $scope.novoSalvar = function (termo) {\r\n        $http.post('termo/novo', termo).then(function successCallback(response) {\r\n            if (response.data.error) {\r\n                $scope.errorMsg = \"\";\r\n                $scope.error = true;\r\n                $.each(response.data.data, function (item, index) {\r\n                    $scope.errorMsg += response.data.data[item];\r\n                });\r\n\r\n            }else{\r\n                $scope.error = false;\r\n                angular.element(\r\n                    swal({\r\n                        title: response.data.msg,\r\n                        text: \"Essa página será recarreganda em 3 segundos.\",\r\n                        timer: 3000\r\n                    }).then(\r\n                        function () {},\r\n                        // handling the promise rejection\r\n                        function (dismiss) {\r\n                            if (dismiss === 'timer') {\r\n                                window.location.reload();\r\n                            }\r\n                        }\r\n                    )\r\n\r\n                );\r\n            }\r\n\r\n        });\r\n    }\r\n    $scope.cancelarNovo = function () {\r\n        $scope.exibirNovo = !$scope.exibirNovo;\r\n        $scope.error = false;\r\n    }\r\n    $scope.delete = function (termo) {\r\n        angular.element(swal({\r\n            title: 'Podemos apagar esse registro?',\r\n            text: \"Não será possível reverter a ação.\",\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Sim, continue!',\r\n            cancelButtonText :'Cancelar'\r\n        }).then(function () {\r\n            deleteRemote(termo);\r\n        },function (dismiss) {\r\n                if (dismiss === 'cancel') {\r\n                }\r\n            }\r\n\r\n        ));\r\n        deleteRemote = function (termo) {\r\n            $http({\r\n                method: 'delete',\r\n                url: 'termo/delete/'+termo.id,\r\n                data:termo\r\n            }).then(function successCallback(response) {\r\n                if(response.data.error==0){\r\n                    angular.element(\r\n                        swal({\r\n                            title: response.data.msg,\r\n                            text: \"Essa página será recarreganda em 3 segundos.\",\r\n                            timer: 3000\r\n                        }).then(\r\n                            function () {},\r\n                            // handling the promise rejection\r\n                            function (dismiss) {\r\n                                if (dismiss === 'timer') {\r\n                                    window.location.reload();\r\n                                }\r\n                            }\r\n                        )\r\n\r\n                    );\r\n                }\r\n                // this callback will be called asynchronously\r\n                // when the response is available\r\n            }, function errorCallback(response) {\r\n                // called asynchronously if an error occurs\r\n                // or server returns response with an error status.\r\n            });\r\n        }\r\n\r\n    }\r\n})\r\n"],"sourceRoot":"/source/"}