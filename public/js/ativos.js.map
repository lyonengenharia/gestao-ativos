{"version":3,"sources":["ativos.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ativos.js","sourcesContent":["/**\r\n * Created by wfs on 24/10/2016.\r\n */\r\nfunction handleData(data, textStatus, jqXHR) {\r\n    $('#resultOfSearch').empty();\r\n    $.each(data, function (i, item) {\r\n        var row = \"<div class=\\\"panel panel-default\\\">\" +\r\n            \"<div class=\\\"panel-heading\\\">\" +\r\n            item.CODBEM +\r\n            \"</div>\" +\r\n            \"<div class='result-emp' style='display: none'>\" +\r\n            item.CODEMP +\r\n            \"</div>\" +\r\n            \"<div class=\\\"panel-body\\\">\" +\r\n            \"<p><b>Data Aquisição:</b> \" + item.DATAQI + \" </p>\" +\r\n            \"<p><b>Item:</b> \" + item.DESBEM + \" </p>\" +\r\n            \"<p><b>Descrição:</b> \" + item.DESESP + \" </p>\" +\r\n            \"<p><b>Empresa:</b> \" + item.NOMEMP + \" </p>\" +\r\n            \"</div>\" +\r\n            \"<div class='panel-footer'> \" +\r\n            \"<div class=\\\"btn-group\\\">\" +\r\n            \"<button class=\\\"btn btn-primary localizacoes\\\" type=\\\"button\\\">\" +\r\n            \"<span class='glyphicon glyphicon-map-marker'></span>Localizações\" +\r\n            \"</button>\";\r\n        if (item.ASSOC) {\r\n            row += \"<button class=\\\"btn btn-danger dissociar-colaborador\\\" type=\\\"button\\\">\" +\r\n                \"<span class='glyphicon glyphicon-user'></span> Desassociar\" +\r\n                \"</button>\";\r\n        } else {\r\n            row += \"<button class=\\\"btn btn-default associar-colaborador\\\" type=\\\"button\\\">\" +\r\n                \"<span class='glyphicon glyphicon-user'></span> Associar\" +\r\n                \"</button>\";\r\n        }\r\n        if (item.EMPRST == 0 && item.ASSOC == 0) {\r\n            row += \"<button class=\\\"btn btn-success emprestimo\\\" type=\\\"button\\\">\" +\r\n                \"<span class='glyphicon glyphicon-transfer'></span> Emprestimo\" +\r\n                \"</button>\" +\r\n                \"</div>\" +\r\n                \"</div>\" +\r\n                \"</div>\";\r\n        } else if (item.ASSOC == 1) {\r\n            row += \"<button class=\\\"btn btn-success emprestimo\\\" type=\\\"button\\\" disabled>\" +\r\n                \"<span class='glyphicon glyphicon-transfer'></span> Emprestimo\" +\r\n                \"</button>\" +\r\n                \"</div>\" +\r\n                \"</div>\" +\r\n                \"</div>\";\r\n        } else {\r\n            row += \"<button class=\\\"btn btn-warning devolucao\\\" type=\\\"button\\\">\" +\r\n                \"<span class='glyphicon glyphicon-retweet'></span> Devolução\" +\r\n                \"</button>\" +\r\n                \"</div>\" +\r\n                \"</div>\" +\r\n                \"</div>\";\r\n        }\r\n\r\n        $('#resultOfSearch').append(row);\r\n\r\n    });\r\n    $(\"#buttonSearch\").empty();\r\n    $(\"#buttonSearch\").append(\"<span class=\\\"glyphicon glyphicon-search\\\"></span> Pesquisar\");\r\n}\r\nfunction historyLocations(data, textStatus, jqXHR) {\r\n    $('#historicoLocalizacoes').empty();\r\n    $.each(data.Locations, function (i, item) {\r\n        var row = \"<div class=\\\"panel panel-default\\\">\" +\r\n            \"<div class=\\\"panel-body\\\">\" +\r\n            \"<p><b>Data Aquisição:</b> \" + item.DATLOC + \" </p>\" +\r\n            \"<p><b>Descrição:</b> \" + item.DESLOC + \" </p>\" +\r\n            \"</div>\" +\r\n            \"</div>\";\r\n        $('#historicoLocalizacoes').append(row);\r\n    });\r\n    $('#historyFinancialList').empty();\r\n    $.each(data.MovFinancial, function (i, item) {\r\n        var row = \"<div class=\\\"panel panel-default\\\">\" +\r\n            \"<div class=\\\"panel-body\\\">\" +\r\n            \"<p><b>Data Movimentação:</b> \" + item.DATMOV + \" </p>\" +\r\n            \"<p><b>Descrição:</b> \" + item.DESTNS + \" </p>\" +\r\n            \"<p><b>CODTNS:</b> \" + item.CODTNS + \" </p>\" +\r\n            \"</div>\" +\r\n            \"</div>\";\r\n        if (item.CODTNS == 90804) {\r\n            var alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                \"<strong>Atenção!</strong> Esse item foi vendido!.\" +\r\n                \"</div>\";\r\n            $('#search').after(alert);\r\n        }\r\n        $('#historyFinancialList').append(row);\r\n    });\r\n\r\n\r\n}\r\nfunction Emprestimo(url, data) {\r\n    $.ajax({\r\n        url: url,\r\n        data: data,\r\n        type: 'post',\r\n        success: function (response) {\r\n            var alert = \"\";\r\n            if (response.erro == 1) {\r\n                alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg\r\n                \"</div>\";\r\n            } else if (response.erro == 0) {\r\n                $('.emprestimo-option').addClass('display-emprestismo');\r\n                $('#resultOfSearch').removeClass('col-md-4');\r\n                $('#resultOfSearch').addClass('col-md-12');\r\n                alert = \"<div class=\\\"alert alert-success alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg\r\n                \"</div>\";\r\n\r\n            }\r\n            $('#search').after(alert);\r\n        }\r\n    }).fail(ErroConnect);\r\n}\r\nfunction Devolucao(url, data) {\r\n    $.ajax({\r\n        url: url,\r\n        type: 'post',\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function (response) {\r\n            var alert = \"\";\r\n            if (response.error == 1) {\r\n                alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            } else if (response.error == 0) {\r\n                $('.devolucao-option').addClass('display-emprestismo');\r\n                $('#resultOfSearch').removeClass('col-md-4');\r\n                $('#resultOfSearch').addClass('col-md-12');\r\n                alert = \"<div class=\\\"alert alert-success alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            }\r\n            $('#search').after(alert);\r\n        },\r\n    }).fail(ErroConnect);;\r\n\r\n\r\n}\r\nfunction DevolucaoDados(url, data) {\r\n    $.ajax({\r\n        url: url + \"/\" + data.codbem + \"/\" + data.codbememp,\r\n        type: 'get',\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function (response) {\r\n            var linha = \"<div class='panel panel-default'><div class='panel-body'>\" +\r\n                \"<p>Data empréstimo:\" + response[0].data_saida + \"</p>\" +\r\n                \"</div></div>\";\r\n            $('#devolucao-form').before(linha);\r\n        }\r\n    }).fail(ErroConnect);;\r\n}\r\nfunction Associar(url, data) {\r\n    $.ajax({\r\n        url: url,\r\n        type: 'post',\r\n        data: data,\r\n        success: function (response) {\r\n            var alert = \"\";\r\n            if (response.error == 1) {\r\n                alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            } else if (response.error == 0) {\r\n                $('.associacao-option').addClass('display-emprestismo');\r\n                $('#resultOfSearch').removeClass('col-md-4');\r\n                $('#resultOfSearch').addClass('col-md-12');\r\n                alert = \"<div class=\\\"alert alert-success alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            }\r\n            $('#search').after(alert);\r\n        }\r\n    }).fail(ErroConnect);\r\n}\r\nfunction Dissociar(url, data) {\r\n    $.ajax({\r\n        url: url,\r\n        type: 'post',\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function (response) {\r\n            var alert = \"\";\r\n            if (response.error == 1) {\r\n                alert = \"<div class=\\\"alert alert-danger alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            } else if (response.error == 0) {\r\n                alert = \"<div class=\\\"alert alert-success alert-dismissible search\\\" role=\\\"alert\\\">\" +\r\n                    \"<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\" +\r\n                    \"<strong>Atenção!</strong> \" + response.msg +\r\n                    \"</div>\";\r\n            }\r\n            $('#search').after(alert);\r\n            $('#modal-desassociar').modal('hide');\r\n        }\r\n    }).fail(ErroConnect);\r\n}\r\nfunction ErroConnect(Error) {\r\n    if(Error.status==401){\r\n        location.reload();\r\n    }\r\n}"],"sourceRoot":"/source/"}